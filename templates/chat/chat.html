<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">


    <title>chunGPT</title>
    <link rel="icon" type="image/png" sizes="32x32" href="templates\static\assets\favicon\favicon.ico" />

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <!-- Main CSS file that includes all components -->
    <link rel="stylesheet" href="/templates/static/css/main.css" />


    <!-- Th∆∞ vi·ªán highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/default.min.css" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/monokai-sublime.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

    <!-- Th∆∞ vi·ªán Clipboard.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script>

    <!-- chaÃ£y code python tr√™n triÃÄnh duy√™Ã£t -->
    <!-- <script src="https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js"></script> -->

</head>

<body>
    <div class="container">
        <header class="app-header">
            <h1 class="heading">Xin chaÃÄo,</h1>
            <h2 class="sub-heading">T√¥i coÃÅ th√™Ãâ giuÃÅp giÃÄ cho baÃ£n?</h2>
        </header>
        <ul class="suggestions">
            <li class="suggestions-item">
                <p class="text">B·∫°n c√≥ th·ªÉ l√†m g√¨ cho t√¥i?</p>
                <span class="material-symbols-rounded">wysiwyg</span>
            </li>
            <li class="suggestions-item">
                <p class="text">X√¢y d·ª±ng b·∫£ng k·∫ø ho·∫°ch gi·∫£m 10kg trong v√≤ng 6 th√°ng.</p>
                <span class="material-symbols-rounded">note</span>
            </li>
            <li class="suggestions-item">
                <p class="text">H√£y cho t√¥i k·ªãch b·∫£n truy·ªán tu ti√™n.</p>
                <span class="material-symbols-rounded">mood</span>
            </li>
            <li class="suggestions-item">
                <p class="text">T·∫°o h√¨nh ·∫£nh 1 con m√®o.</p>
                <span class="material-symbols-rounded">draw</span>
            </li>
        </ul>

        <div class="chats-container">
            <!-- <div class="message user-message">
                <p class="message-text">Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                </p>
            </div>
            <div class="message bot-message">
                <img src="/storage/assets/img/1.jpg" alt="" class="avatar">
                <p class="message-text">Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                </p>
            </div> -->

        </div>



        <div class="prompt-container">
            <div class="image-preview-container">
                <!-- Image previews will be added here dynamically -->
            </div>
            <div class="prompt-wrapper">
                <form action="#" class="prompt-form">
                    <!-- Textarea nh·∫≠p n·ªôi dung -->
                    <textarea type="text" placeholder="H·ªèi 4T AI" class="prompt-input" required></textarea>

                    <!-- Container cho c√°c n√∫t h√†nh ƒë·ªông -->
                    <div class="prompt-actions">
                        <!-- Nh√≥m n√∫t toggle b√™n tr√°i -->
                        <div class="prompt-actions-left">
                            <button type="button" class="toggle-btn" id="search-toggle">
                                üåê Nghi√™n c·ª©u
                            </button>
                            <button type="button" class="toggle-btn" id="deep-think-toggle">
                                üí° Suy lu·∫≠n
                            </button>
                        </div>
                        <!-- Dropdown menu -->
                        <!-- <select id="deep-think-options" class="dropdown"></select> -->

                        <!-- Nh√≥m n√∫t kh√°c b√™n ph·∫£i -->
                        <div class="prompt-actions-right">
                            <button type="button" class="material-symbols-rounded" id="upload-btn">
                                attach_file
                            </button>
                            <div class="dropdown-menu" id="upload-dropdown">
                                <label class="dropdown-item">
                                    T·∫£i t·ªáp l√™n
                                    <input type="file" id="file-input" accept="image/*" style="display: none;">
                                </label>
                            </div>

                            <button id="stop-response-btn" type="button" class="material-symbols-rounded">
                                stop_circle
                            </button>
                            <button id="send-prompt-btn" type="submit" class="material-symbols-rounded">
                                arrow_upward
                            </button>
                        </div>

                    </div>
                </form>
            </div>
            <p class="warning-text">Do AI t·∫°o ra, ch·ªâ ƒë·ªÉ tham kh·∫£o</p>

        </div>

        <div class="right-container">
            <iframe class="right" id="output"></iframe>
            <button type="button" class="material-symbols-rounded" id="move_selection_left">move_selection_left</button>
            <button type="button" class="material-symbols-rounded"
                id="move_selection_right">move_selection_right</button>
            <button type="button" class="material-symbols-rounded" id="close-iframe">close</button>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script></script>
    <script type="module" src="/templates/static/js/chat_module.js"></script>

    <script>
        // ƒêƒÉng k√Ω Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/templates/static/js/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }
    </script>
</body>

</html>
